{% extends "base.html" %}

{% block content %}
<div style="max-width: 700px; margin: 50px auto;">

    <!-- Product Name -->
    <h1>{{ product.name }}</h1>

    <!-- Product Images -->
    {% if product.images %}
        <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px;">
            {% for img in product.images %}
                <img src="{{ url_for('static', filename='uploads/' ~ img.image_url) }}" 
                     alt="{{ product.name }}" 
                     style="width: 150px; height: 150px; object-fit: cover; border: 1px solid #ccc; padding: 2px;">
            {% endfor %}
        </div>
    {% endif %}

    <!-- Product Details -->
    <p><strong>Price:</strong> â‚¦{{ product.price }}</p>
    <p><strong>Stock:</strong> {{ product.stock_quantity }}</p>
    <p><strong>Size/Unit:</strong> {{ product.size_unit }}</p>
    <p><strong>Description:</strong> {{ product.description }}</p>

    <!-- Edit & Delete Buttons -->
    <div style="margin-top: 20px;">
        <!-- Edit -->
        <a href="{{ url_for('edit_product', id=product.id) }}">
            <button style="padding: 10px 20px;">Edit Product</button>
        </a>

        <!-- Delete -->
        <form method="POST" action="{{ url_for('delete_product', id=product.id) }}" 
              style="display: inline-block; margin-left: 10px;"
              onsubmit="return confirm('Are you sure you want to delete this product?');">
            <button type="submit" style="padding: 10px 20px; background-color: red; color: white; border: none;">Delete Product</button>
        </form>
    </div>

</div>
{% endblock %}
